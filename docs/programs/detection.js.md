# detection.js

## detectFaces (関数)
・概要
> 入力された画像データからTensorFlow.jsのCOCO-SSDモデルを用いて単数または複数の人物を検出し、それぞれの人物の顔でFaceクラスのインスタンスを生成し、それらのインスタンスを配列で返す。入力された画像にアルファチャンネルがあったら例外を返す。

・引数
> 第1引数:　検出する画像(ImageDataオブジェクト)
> 
> 例:  
> ```javascript
> ImageData() //第1引数
> ```

・返り値
> 検出された顔のインスタンス(Faceオブジェクト)が入った配列
> 
> 例:  
> ```javascript
> [Face, Face, Face...]
> ```

## Face (クラス)

> ### コンストラクタ
> ・概要
> > 入力された顔の情報を保持、抽出するためのクラス。抽出処理にはTensorFlow.jsのFace Landmarks Detectionモデルを使用する。検出した人物の信頼度(score)が0.8以上の場合
> > 
> ・引数
> > 第1引数:　検出元の画像(ImageDataオブジェクト)  
> > 第2引数:　COCO-SSDモデルで返されたクラスの対象の顔の情報(クラス)
> > 
> > 例:  
> > ```javascript
> > ImageData(), //第1引数
> > {
> >   bbox: [x, y, width, height],
> >   class: "person",
> >   score: 0.8380282521247864
> > } //第2引数
> > ```
> 
> ### contour (メソッド)
> ・概要
> > クラスが保持している顔の輪郭の座標を返す。
> 
> ・引数
> > 第1引数:　なし
> 
> ・返り値
> > インスタンス生成時にコンストラクタに渡された、顔の輪郭の座標の配列
> > 
> > 例:  
> > ```javascript
> > [[0, 0], [1, 2], [5, 8]...]
> > ```
> 
> ### eyes (メソッド)
> ・概要
> > クラスが保持している顔から、左右の目の縁(目と肌の境目)の座標を抽出して、"left"と"right"のキーを持つ辞書に、左右それぞれの座標の配列を入れて返す。
> 
> ・引数
> > 第1引数:　なし
> 
> ・返り値
> > 左右の目の縁の座標が入った配列を持つ辞書
> > 
> > 例:
> > ```javascript
> > {
> >   "left": [[0, 0], [1, 2], [3, 7]...]
> >   "right": [[0, 0], [1, 2], [3, 7]...]
> > }
> > ```
> 
> ### nose (メソッド)
> ・概要
> > クラスが保持している顔から、鼻の縁(鼻と肌の境目)の座標を抽出して、肌と鼻の境界線の座標の配列を返す。
> 
> ・引数
> > 第1引数:　なし
> 
> ・返り値
> > 鼻の縁(鼻と肌の境目)の座標の配列
> > 
> > 例:  
> > ```javascript
> > [[0, 0], [1, 2], [5, 8]...]
> > ```
